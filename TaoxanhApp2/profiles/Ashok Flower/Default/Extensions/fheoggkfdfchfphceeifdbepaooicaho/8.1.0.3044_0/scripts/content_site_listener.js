/*!
 * 
 *     MCAFEE RESTRICTED CONFIDENTIAL
 *     Copyright (c) 2022 McAfee, LLC
 *     
 *     The source code contained or described herein and all documents related
 *     to the source code ("Material") are owned by McAfee or its
 *     suppliers or licensors. Title to the Material remains with McAfee
 *     or its suppliers and licensors. The Material contains trade
 *     secrets and proprietary and confidential information of McAfee or its
 *     suppliers and licensors. The Material is protected by worldwide copyright
 *     and trade secret laws and treaty provisions. No part of the Material may
 *     be used, copied, reproduced, modified, published, uploaded, posted,
 *     transmitted, distributed, or disclosed in any way without McAfee's prior
 *     express written permission.
 *     
 *     No license under any patent, copyright, trade secret or other intellectual
 *     property right is granted to or conferred upon you by disclosure or
 *     delivery of the Materials, either expressly, by implication, inducement,
 *     estoppel or otherwise. Any license under such intellectual property rights
 *     must be expressed and approved by McAfee in writing.
 *     
 */!function(_){var E={};function e(T){if(E[T])return E[T].exports;var t=E[T]={i:T,l:!1,exports:{}};return _[T].call(t.exports,t,t.exports,e),t.l=!0,t.exports}e.m=_,e.c=E,e.d=function(_,E,T){e.o(_,E)||Object.defineProperty(_,E,{enumerable:!0,get:T})},e.r=function(_){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},e.t=function(_,E){if(1&E&&(_=e(_)),8&E)return _;if(4&E&&"object"==typeof _&&_&&_.__esModule)return _;var T=Object.create(null);if(e.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:_}),2&E&&"string"!=typeof _)for(var t in _)e.d(T,t,function(E){return _[E]}.bind(null,t));return T},e.n=function(_){var E=_&&_.__esModule?function(){return _.default}:function(){return _};return e.d(E,"a",E),E},e.o=function(_,E){return Object.prototype.hasOwnProperty.call(_,E)},e.p="",e(e.s=99)}({1:function(_,E,e){"use strict";e.d(E,"a",(function(){return T})),e.d(E,"c",(function(){return t})),e.d(E,"g",(function(){return a})),e.d(E,"b",(function(){return n})),e.d(E,"h",(function(){return s})),e.d(E,"f",(function(){return N})),e.d(E,"d",(function(){return A})),e.d(E,"e",(function(){return S}));const T={CACHE_STORE:"CACHE_STORE",CONTENT_HANDLER:"CONTENT_HANDLER",EXECUTE_COMMAND:"EXECUTE_COMMAND",FOCUS_OR_CREATE_TAB:"FOCUS_OR_CREATE_TAB",GET_BK_GLOBALS:"GET_BK_GLOBALS",GET_EXTENSION_STATUS:"GET_EXTENSION_STATUS",GET_TAB_DATA:"GET_TAB_DATA",TI_REQUEST:"TI_REQUEST",INSTALL_EXTENSION:"INSTALL_EXTENSION",PLACEHOLDER_TEXT:"PLACEHOLDER_TEXT",REMOVE_TAB:"REMOVE_TAB",SEND_TELEMETRY:"SEND_TELEMETRY",SET_VIEWPORT:"SET_VIEWPORT",WHITELIST:"WHITELIST",RESET_NATIVE_SETTING:"RESET_NATIVE_SETTING",UPDATE_BK_NATIVE_SETTINGS:"UPDATE_BK_NATIVE_SETTINGS",SHOW_SIDEBAR_MAIN:"SHOW_SIDEBAR_MAIN",GET_POPUP_DATA:"GET_POPUP_DATA",GET_SETTINGS_DATA:"GET_SETTINGS_DATA",RESET_SETTINGS:"RESET_SETTINGS",AUTO_RUN_VIDEO_SITE:"AUTO_RUN_VIDEO_SITE",GET_CLICK_EVENT_TIME:"GET_CLICK_EVENT_TIME",SAVE_CLICK_EVENT_TIME:"SAVE_CLICK_EVENT_TIME",GET_TYPOSQUATTING_DATA:"GET_TYPOSQUATTING_DATA",IS_FRAME_BLOCKED:"IS_FRAME_BLOCKED",IS_WHITELISTED:"IS_WHITELISTED",ANY_BLOCKED_IFRAMES:"ANY_BLOCKED_IFRAMES",ANY_BLOCKED_CRYPTOSCRIPTS:"ANY_BLOCKED_CRYPTOSCRIPTS",UNBLOCK_ALL_IFRAMES:"UNBLOCK_ALL_IFRAMES",VIEW_SITE_REPORT:"VIEW_SITE_REPORT",SEARCH_ANNOTATION:"SEARCH_ANNOTATION",UPDATE_ENGINE_STATS:"UPDATE_ENGINE_STATS",SOCIAL_MEDIA_ANNOTATION:"SOCIAL_MEDIA_ANNOTATION",UPDATE_RAT_DETECTION_SHOWING_FLAG:"UPDATE_RAT_DETECTION_SHOWING_FLAG",SEARCH_SUGGEST:"SEARCH_SUGGEST",GET_WEIGHTS:"GET_WEIGHTS",SAVE_FORM_INFO:"SAVE_FORM_INFO",GET_FORM_INFO_CACHE:"GET_FORM_INFO_CACHE",CLEAR_FORM_INFO_CACHE:"CLEAR_FORM_INFO_CACHE",SAVE_MULTISTEP_LOGIN:"SAVE_MULTISTEP_LOGIN",CLEAR_CACHED_DWS_INFO:"CLEAR_DWS_INFO",GET_CACHED_DWS_INFO:"GET_CACHED_DWS_INFO",UPDATE_DWS_WHITELIST:"UPDATE_DWS_WHITELIST",LAUNCH_IDPS_LOGIN:"LAUNCH_IDPS_LOGIN",UPDATE_DWS_SHOWN:"UPDATE_DWS_SHOWN",GET_APS_DETAILS:"GET_APS_DETAILS",FORM_PRE_CHECK_PASSED:"FORM_PRE_CHECK_PASSED",SIGN_UP_FORM_DETECTED:"SIGN_UP_FORM_DETECTED",SET_FF_POLICY_COLLECTION:"SET_FF_POLICY_COLLECTION",SET_FF_POLICY_LAST_SHOWN:"SET_FF_POLICY_LAST_SHOWN"},t={UNBLOCK_IFRAME:"UNBLOCK_IFRAME",BALLOON_MESSAGE:"BALLOON_MESSAGE",PAGE_OVERLAY:"PAGE_OVERLAY",SIDEBAR:"SIDEBAR",TOPBAR:"TOPBAR",PING_CONTENT_ANNOTATION:"PING_CONTENT_ANNOTATION",PING_CONTENT_RAT_DETECTION:"PING_CONTENT_RAT_DETECTION",PING_CONTENT_IFRAME_BANNER:"PING_CONTENT_IFRAME_BANNER",PING_CONTENT_AUTOPLAY_DETECTION:"PING_CONTENT_AUTOPLAY_DETECTION",PING_CONTENT_SIDEBAR_MAIN:"PING_CONTENT_SIDEBAR_MAIN",PING_CONTENT_FF_DL_OVERLAY:"PING_CONTENT_FF_DL_OVERLAY",PING_CONTENT_CRYPTO_BLOCK:"PING_CONTENT_CRYPTO_BLOCK",PING_CONTENT_FF_VIEWPORTS:"PING_CONTENT_FF_VIEWPORTS",PING_CONTENT_IDPS:"PING_CONTENT_IDPS",PING_CONTENT_APS_TOAST:"PING_CONTENT_APS_TOAST",PING_CONTENT_APS_BALLOON:"PING_CONTENT_APS_BALLOON",PING_CONTENT_APS_OBSERVER:"PING_CONTENT_APS_OBSERVER",PING_CONTENT_SITE_LISTENER:"PING_CONTENT_SITE_LISTENER",PING_IFRAME_FORM_CHECK:"PING_IFRAME_FORM_CHECK",PING_IFRAME_FORM_DETECTION:"PING_IFRAME_FORM_DETECTION",PING_IFRAME_BLOCK:"PING_IFRAME_BLOCK",APS_REGISTRATION_PAGE:"APS_REGISTRATION_PAGE",BROADCAST_TO_FOREGROUND:"BROADCAST_TO_FOREGROUND",TRIGGER_AJ_TOAST:"TRIGGER_AJ_TOAST"},a={MAIN:"MAIN",RELOAD:"RELOAD",SMA:"SMA",RAT_DETECTION:"RAT_DETECTION"},n={ADVANCED_PROTECTION_SIGNAL:"ADVANCED_PROTECTION_SIGNAL",ADVANCED_PROTECTION_SIGNAL_TOAST:"ADVANCED_PROTECTION_SIGNAL_TOAST",DWS:"DWS"},s={CRYPTO_BLOCK:"CRYPTO_BLOCK",IFRAME_BLOCK:"IFRAME_BLOCK",TRIGGER_ALLOW:"TRIGGER_ALLOW"},N={SEARCH_EXTENSION_OVERLAY:"SEARCH_EXTENSION_OVERLAY",FINISH_DOWNLOAD:"FINISH_DOWNLOAD"},A={PING:0,DISCONNECT_NATIVE:1,SET_PROPERTY_EX:2,SET_PROPERTY:3,GET_PROPERTY:4,CLEAR_GTI_CACHE:5,RESET_CRYPTO:6,CLEAN_TYPOSQUATING_WHITELIST:7,CLEAR_TYPOSQUATING_CACHE:8,CLEAN_CRYPTO_WHITELIST:10,CLEAN_RAT_WHITELIST:12,CLEAN_RAT_CACHE:13,REPLACE_TRUSTED_DOMAIN:15,VERIFY_GTI_REQUEST:17,VERIFY_TYPOSQUAT_SERVER:18,GET_ALL_WA_SETTINGS:19,SET_STORAGE_PROPERTY:20,GET_STORAGE_PROPERTY:21,REINIT_SCHEDULED_TASKS:22,OPEN_SETTINGS:23,OPEN_ACTION_PANEL:24,GET_MEMORY_FOOTPRINT:26,ENDURANCE_TEST_RESET:27,FORM_DETECTION_RESULT:28,SHOW_UNUSED_SELECTORS:29,SET_MTI_GLOBALS:30},S={PONG:0}},2:function(_,E,e){"use strict";e.d(E,"a",(function(){return T}));const T=chrome},27:function(_,E,e){"use strict";e.d(E,"a",(function(){return T}));class T{constructor(_){this.pingCommand=_,this.basePingListener()}basePingListener(_=null){chrome.runtime.onMessage.addListener((E,e,T)=>{if(e.id!==chrome.runtime.id)return;const{command:t}=E;t===this.pingCommand&&(T({content:!0}),"function"==typeof _&&_())})}}},6:function(_,E,e){"use strict";e.d(E,"a",(function(){return T}));class T{static handlePromiseMessage(_,E=null){return new Promise((e,T)=>{chrome.runtime.sendMessage(_,_=>{"function"==typeof E?E(e,T,_):((_,E,e)=>{chrome.runtime.lastError&&E(chrome.runtime.lastError.message),_(e)})(e,T,_)})})}}},8:function(_,E,e){"use strict";e.d(E,"a",(function(){return n}));var T=e(2),t=e(1),a=e(6);class n{static cacheStore(_,E){const e=t.a.CACHE_STORE;return a.a.handlePromiseMessage({command:e,action:_,data:E})}static isFrameBlocked(_){const E=t.a.IS_FRAME_BLOCKED;return a.a.handlePromiseMessage({command:E,url:_})}static makeMTIRequest(_,E){const e={command:t.a.TI_REQUEST,requestData:_,referer:E};return a.a.handlePromiseMessage(e)}static executeCommand(_,E){const e=t.a.EXECUTE_COMMAND;T.a.runtime.sendMessage({command:e,commandId:_,params:E})}static focusOrCreateTab(_){const E=t.a.FOCUS_OR_CREATE_TAB;T.a.runtime.sendMessage({command:E,url:_})}static closeTab(){const _=t.a.REMOVE_TAB;T.a.runtime.sendMessage({command:_})}static whitelist(_,E,e){const T=t.a.WHITELIST;return a.a.handlePromiseMessage({action:_,command:T,type:E,data:e})}static getPopupData(){const _=t.a.GET_POPUP_DATA;return a.a.handlePromiseMessage({command:_})}static getSettingsData(){const _=t.a.GET_SETTINGS_DATA;return a.a.handlePromiseMessage({command:_})}static searchAnnotation(_,E){const e=t.a.SEARCH_ANNOTATION;return a.a.handlePromiseMessage({action:_,data:E,command:e})}static socialMediaAnnotation(_,E){const e=t.a.SOCIAL_MEDIA_ANNOTATION;return a.a.handlePromiseMessage({action:_,data:E,command:e})}static async getBkGlobals(_=!1){return new Promise(E=>{const e=t.a.GET_BK_GLOBALS;a.a.handlePromiseMessage({command:e,bIncludeSearchEngines:_}).then(_=>{E(JSON.parse(_))})})}static viewSiteReport(_=null,E=!1){const e=t.a.VIEW_SITE_REPORT;T.a.runtime.sendMessage({command:e,url:_,showInNewTab:E})}static getTypoSquattingData(_){const E=t.a.GET_TYPOSQUATTING_DATA;return a.a.handlePromiseMessage({command:E,domain:_})}static getPlaceholderText(_){const E=t.a.PLACEHOLDER_TEXT;return a.a.handlePromiseMessage({command:E,id:_})}static setViewPort(_,E){const e=t.a.SET_VIEWPORT;T.a.runtime.sendMessage({command:e,x:_,y:E})}static sendTelemetry(_){const E=t.a.SEND_TELEMETRY;T.a.runtime.sendMessage({command:E,telemetry:_})}static anyBlockedIframes(_){const E=t.a.ANY_BLOCKED_IFRAMES;return a.a.handlePromiseMessage({command:E,frameUrls:_})}static anyBlockedCryptoScripts(){const _=t.a.ANY_BLOCKED_CRYPTOSCRIPTS;return a.a.handlePromiseMessage({command:_})}static resetSettings(){const _=t.a.RESET_SETTINGS;T.a.runtime.sendMessage({command:_})}static sendEngineStat(_){T.a.runtime.sendMessage({command:t.a.UPDATE_ENGINE_STATS,engine:_})}static contentHandler(_){const E=t.a.CONTENT_HANDLER;T.a.runtime.sendMessage({command:E,message:_})}static getTabData(_={}){const E={command:t.a.GET_TAB_DATA,..._};return a.a.handlePromiseMessage(E)}static isWhitelisted(_){const E={command:t.a.IS_WHITELISTED,url:_};return a.a.handlePromiseMessage(E)}static getExtensionStatus(_){return a.a.handlePromiseMessage({command:t.a.GET_EXTENSION_STATUS,extension_id:_})}static unblockAllIframes(){const _=t.a.UNBLOCK_ALL_IFRAMES;T.a.runtime.sendMessage({command:_})}static updateRatDetectionShowingFlag(_){const E=t.a.UPDATE_RAT_DETECTION_SHOWING_FLAG;T.a.runtime.sendMessage({command:E,showed:_})}static getSearchSuggest(_){const E={command:t.a.SEARCH_SUGGEST,searchTerm:_};return a.a.handlePromiseMessage(E)}static resetNativeSetting(_){const E=t.a.RESET_NATIVE_SETTING;T.a.runtime.sendMessage({command:E,setting:_})}static saveFormInfo(_,E){const e=t.a.SAVE_FORM_INFO;T.a.runtime.sendMessage({command:e,username:_,hostname:E})}static saveMultiStepLogin(_,E){const e=t.a.SAVE_MULTISTEP_LOGIN;T.a.runtime.sendMessage({command:e,data:_,completeLogin:E})}static getFormInfoCache(){const _=t.a.GET_FORM_INFO_CACHE;return a.a.handlePromiseMessage({command:_})}static clearFormInfoCache(){const _=t.a.CLEAR_FORM_INFO_CACHE;T.a.runtime.sendMessage({command:_})}static updateDWSWhitelist(_){const E=t.a.UPDATE_DWS_WHITELIST;T.a.runtime.sendMessage({command:E,email:_})}static getCachedDWSInfo(_){const E={command:t.a.GET_CACHED_DWS_INFO,email:_};return a.a.handlePromiseMessage(E)}static clearCachedDWSInfo(_){const E=t.a.CLEAR_CACHED_DWS_INFO;T.a.runtime.sendMessage({command:E,email:_})}static updateDWSShown(_){const E=t.a.UPDATE_DWS_SHOWN;T.a.runtime.sendMessage({command:E,email:_})}static getAPSDetails(){const _=t.a.GET_APS_DETAILS;return a.a.handlePromiseMessage({command:_})}static signUpFormDetected(){const _=t.a.SIGN_UP_FORM_DETECTED;T.a.runtime.sendMessage({command:_})}static updateBkNativeSettings(_,E){const e=t.a.UPDATE_BK_NATIVE_SETTINGS;T.a.runtime.sendMessage({command:e,name:_,value:E})}static launchIDPSLogin(){const _=t.a.LAUNCH_IDPS_LOGIN;T.a.runtime.sendMessage({command:_})}static showSidebarMain(){const _=t.a.SHOW_SIDEBAR_MAIN;T.a.runtime.sendMessage({command:_})}static setFFPolicyCollection({personal:_,activity:E}){const e=t.a.SET_FF_POLICY_COLLECTION;T.a.runtime.sendMessage({command:e,personal:_,activity:E})}static setFFPolicyLastShown(){const _=t.a.SET_FF_POLICY_LAST_SHOWN;T.a.runtime.sendMessage({command:_})}static broadcastToForeground(_){const E=t.c.BROADCAST_TO_FOREGROUND;T.a.runtime.sendMessage({command:E,payload:_})}}},99:function(_,E,e){"use strict";e.r(E),e.d(E,"default",(function(){return n}));var T=e(1),t=e(27),a=e(8);class n extends t.a{constructor(){super(T.c.PING_CONTENT_SITE_LISTENER)}main(){window.addEventListener("message",_=>{if(!_)return;const{data:E}=_;if(!E)return;const{request_type:e,payload:t}=E;if(void 0!==e&&void 0!==t){if(e!==T.d.PING||t.done||window.postMessage({request_type:T.e.PONG,payload:{done:!0}},_.origin),e===T.d.OPEN_SETTINGS){const _=chrome.runtime.getURL("html/settings.html");a.a.focusOrCreateTab(_)}e===T.d.OPEN_ACTION_PANEL&&a.a.showSidebarMain()}},!1)}}(new n).main()}});
//# sourceMappingURL=../../sourceMap/chrome/scripts/content_site_listener.map